<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–∞–≥–∞–∑–∏–Ω –ë—Ä–µ–∏–Ω—Ä–æ—Ç–æ–≤</title>
  <link rel="icon" type="image/jpeg" href="img/–ó–Ω–∞—á–æ–∫ —Å–∞–π—Ç–∞.jpg">
  <style>
    /* –°—Ç–∏–ª–∏ –¥–ª—è —è—Ä–∫–æ–≥–æ —Ñ–æ–Ω–∞ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ—á–Ω–æ–π —Å–µ—Ç–∫–∏ */
    img{
        height: 200px;
        object-fit: cover;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
      color: #333;
    }
    header {
      text-align: center;
      padding: 30px 20px;
      font-size: 2em;
      font-weight: bold;
      color: #fff;
      text-shadow: 1px 1px 4px rgba(0,0,0,0.4);
    }

    /* –í–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
    .top-nav {
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 20px;
      flex-wrap: wrap;
    }

    .nav-btn {
      background: #fff;
      color: #e63946;
      border: 2px solid #e63946;
      padding: 12px 25px;
      border-radius: 10px;
      font-size: 1em;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .nav-btn:hover {
      background: #e63946;
      color: #fff;
      transform: translateY(-2px);
    }

    .nav-btn.active {
      background: #e63946;
      color: #fff;
    }

    /* –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ */
    .filter-section {
      width: 100%;
      margin: 0 0 20px 0;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      gap: 15px;
      flex-wrap: wrap;
      box-sizing: border-box;
    }

    .left-controls {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
      flex: 0 0 auto;
    }

    .language-switcher {
      background: #fff;
      border: 2px solid #e63946;
      border-radius: 10px;
      display: flex;
      overflow: hidden;
      height: 45px;
    }

    .lang-btn {
      background: #fff;
      color: #333;
      border: none;
      padding: 10px 20px;
      font-size: 0.95em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      border-right: 1px solid #e63946;
      min-width: 60px;
    }

    .lang-btn:last-child {
      border-right: none;
    }

    .lang-btn:hover {
      background: #ffe0e3;
    }

    .lang-btn.active {
      background: #e63946;
      color: #fff;
    }

    .search-input {
      background: #fff;
      color: #333;
      border: 2px solid #e63946;
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 0.95em;
      font-weight: 500;
      width: 250px;
      height: 45px;
      box-sizing: border-box;
    }

    .search-input:focus {
      outline: none;
      border-color: #c32b3f;
      box-shadow: 0 2px 8px rgba(230, 57, 70, 0.3);
    }

    .search-input::placeholder {
      color: #999;
    }

    .filter-select {
      background: #fff;
      color: #333;
      border: 2px solid #e63946;
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 0.95em;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s;
      min-width: 220px;
      height: 45px;
    }

    .filter-select:hover {
      border-color: #c32b3f;
      box-shadow: 0 2px 8px rgba(230, 57, 70, 0.3);
    }

    .filter-select:focus {
      outline: none;
      border-color: #e63946;
      box-shadow: 0 0 0 3px rgba(230, 57, 70, 0.2);
    }

    .container {
      display: grid;
      gap: 15px;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      padding: 20px;
      max-width: 1200px;
      margin: auto;
      justify-items: center;
      text-align: center;
    }
    .card {
      background: #fff;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transition: transform .2s, box-shadow .2s;
      max-width: 280px;
      margin: 0 auto;
      height: 450px;
      display: flex;
      flex-direction: column;
      position: relative;
    }
    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }
    .card img {
      width: 100%;
      height: 300px;
      display: block;
      flex-shrink: 0;
    }
    .card-body {
      padding: 13px;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .card-title {
      font-size: 1.05em;
      margin: 0 0 6px;
      font-weight: bold;
      color: #222;
    }
    .card-price {
      font-size: 0.93em;
      font-weight: bold;
      color: #e63946;
      margin-bottom: 6px;
    }
    .card-stock {
      font-size: 0.8em;
      color: #28a745;
      font-weight: 600;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }
    button.buy-btn {
      background: #e63946;
      color: #fff;
      border: none;
      padding: 7px 12px;
      border-radius: 8px;
      font-size: 0.87em;
      cursor: pointer;
      width: 100%;
      transition: background .2s;
    }
    button.buy-btn:hover {
      background: #c32b3f;
    }

    .wishlist-icon {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(255, 255, 255, 0.9);
      width: 35px;
      height: 35px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.3em;
      transition: all 0.2s;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      z-index: 10;
    }

    .wishlist-icon:hover {
      transform: scale(1.1);
      background: #fff;
    }

    .wishlist-icon.active {
      color: #e63946;
    }

    /* –ë–ï–ô–î–ñ –° –ü–†–û–°–¢–û–ô –ê–ù–ò–ú–ê–¶–ò–ï–ô */
    .stock-badge {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(40, 167, 69, 0.95);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      transition: all 0.25s ease;
      white-space: nowrap;
      z-index: 5;
      overflow: hidden;
    }

    .stock-badge .stock-icon {
      flex-shrink: 0;
      font-size: 1em;
    }

    .stock-badge .stock-number {
      flex-shrink: 0;
      font-size: 1em;
      transition: all 0.25s ease;
    }

    .stock-badge .stock-text {
      opacity: 0;
      max-width: 0;
      transition: all 0.25s ease;
      font-size: 0.95em;
      white-space: nowrap;
      overflow: hidden;
    }

    .stock-badge:hover {
      padding: 7px 14px;
      background: rgba(40, 167, 69, 1);
      box-shadow: 0 3px 12px rgba(40, 167, 69, 0.3);
    }

    .stock-badge:hover .stock-number {
      opacity: 0;
      max-width: 0;
    }

    .stock-badge:hover .stock-text {
      opacity: 1;
      max-width: 150px;
    }

    /* –ü–∞–≥–∏–Ω–∞—Ü–∏—è */
    .pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      padding: 30px 20px;
      flex-wrap: wrap;
    }

    .pagination-btn {
      background: #fff;
      color: #e63946;
      border: 2px solid #e63946;
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 1em;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.2s;
      min-width: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .pagination-btn:hover:not(.active):not(:disabled) {
      background: #ffe0e3;
      transform: translateY(-2px);
    }

    .pagination-btn.active {
      background: #e63946;
      color: #fff;
    }

    .pagination-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ */
    .product-page {
      display: none;
      min-height: 100vh;
      padding: 20px;
    }

    .product-page.active {
      display: block;
    }

    .catalog-page.hidden {
      display: none;
    }

    .back-button {
      background: #fff;
      color: #e63946;
      border: 2px solid #e63946;
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 1em;
      cursor: pointer;
      margin-bottom: 20px;
      font-weight: bold;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .back-button:hover {
      background: #e63946;
      color: #fff;
      transform: translateX(-5px);
    }

    .product-detail {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 8px 30px rgba(0,0,0,0.2);
    }

    .product-layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }

    .product-image-section {
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      padding: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .product-image-wrapper {
      width: 100%;
      max-width: 400px;
      background: #fff;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .product-image-wrapper img {
      width: 100%;
      height: 400px;
      object-fit: cover;
      border-radius: 12px;
    }

    .product-info-section {
      padding: 40px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .product-detail-title {
      font-size: 2em;
      font-weight: bold;
      color: #222;
      margin: 0 0 20px;
    }

    .product-detail-price {
      font-size: 1.4em;
      font-weight: bold;
      color: #e63946;
      margin-bottom: 30px;
      line-height: 1.6;
    }

    .product-info-box {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 25px;
      line-height: 1.8;
    }

    .product-info-box p {
      margin: 10px 0;
      color: #555;
    }

    .product-info-box strong {
      color: #222;
    }

    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 20px;
    }

    .action-btn {
      padding: 18px 30px;
      border: none;
      border-radius: 12px;
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
    }

    .wishlist-btn {
      background: #fff;
      color: #e63946;
      border: 3px solid #e63946;
    }

    .wishlist-btn:hover {
      background: #ffe0e3;
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(230, 57, 70, 0.3);
    }

    .wishlist-btn.active {
      background: #e63946;
      color: #fff;
    }

    .buy-now-btn {
      background: #5865F2;
      color: #fff;
    }

    .buy-now-btn:hover {
      background: #4752C4;
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(88, 101, 242, 0.4);
    }

    .empty-message {
      text-align: center;
      padding: 60px 20px;
      font-size: 1.3em;
      color: #666;
    }

    /* –§—É—Ç–µ—Ä */
    footer {
      background: rgba(255, 255, 255, 0.95);
      padding: 30px 20px;
      text-align: center;
      margin-top: 40px;
      border-top: 3px solid #e63946;
    }

    footer h3 {
      color: #e63946;
      margin: 0 0 20px 0;
      font-size: 1.3em;
    }

    .contact-links {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
      align-items: center;
    }

    .contact-link {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: #0088cc;
      font-size: 1.1em;
      font-weight: 600;
      transition: all 0.2s;
      padding: 10px 20px;
      border-radius: 10px;
      background: #fff;
      border: 2px solid #0088cc;
    }

    .contact-link.discord {
      color: #5865F2;
      border-color: #5865F2;
    }

    .contact-link:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .contact-link.discord:hover {
      background: #f0f1ff;
    }

    .contact-link.telegram:hover {
      background: #e6f7ff;
    }

    /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫—É–ø–∫–∏ */
    .purchase-page {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
      z-index: 1000;
      overflow-y: auto;
      padding: 20px;
    }

    .purchase-page.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .purchase-content {
      background: #fff;
      border-radius: 20px;
      padding: 40px;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 8px 30px rgba(0,0,0,0.2);
      text-align: center;
    }

    .purchase-title {
      font-size: 2em;
      font-weight: bold;
      color: #222;
      margin-bottom: 30px;
    }

    .purchase-message {
      font-size: 1.2em;
      color: #555;
      margin-bottom: 30px;
      line-height: 1.6;
    }

    .contact-buttons {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 20px;
    }

    .contact-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 18px 30px;
      border-radius: 12px;
      font-size: 1.1em;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.2s;
      border: 3px solid;
    }

    .contact-btn.telegram {
      background: #fff;
      color: #0088cc;
      border-color: #0088cc;
    }

    .contact-btn.telegram:hover {
      background: #0088cc;
      color: #fff;
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 136, 204, 0.3);
    }

    .contact-btn.discord {
      background: #fff;
      color: #5865F2;
      border-color: #5865F2;
    }

    .contact-btn.discord:hover {
      background: #5865F2;
      color: #fff;
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(88, 101, 242, 0.3);
    }

    .or-divider {
      font-size: 1.1em;
      color: #999;
      margin: 10px 0;
      font-weight: 600;
    }

    .back-to-product-btn {
      background: #fff;
      color: #e63946;
      border: 2px solid #e63946;
      padding: 12px 25px;
      border-radius: 10px;
      font-size: 1em;
      cursor: pointer;
      margin-top: 20px;
      font-weight: bold;
      transition: all 0.2s;
    }

    .back-to-product-btn:hover {
      background: #e63946;
      color: #fff;
      transform: translateY(-2px);
    }

    .important-note {
      background: #fff3cd;
      border: 2px solid #ffc107;
      border-radius: 12px;
      padding: 20px;
      margin-top: 25px;
      color: #856404;
      font-size: 1em;
      line-height: 1.6;
      text-align: center;
    }

    .important-note strong {
      display: block;
      margin-bottom: 8px;
      font-size: 1.05em;
    }

    @media (max-width: 1250px) {
      .container {
        max-width: 900px;
      }
    }

    @media (max-width: 950px) {
      .container {
        max-width: 600px;
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .filter-section {
        flex-direction: column;
        align-items: stretch;
      }

      .left-controls {
        width: 100%;
        align-items: stretch;
      }

      .search-input {
        width: 100%;
      }

      .filter-select {
        width: 100%;
      }

      .container {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }

      .product-layout {
        grid-template-columns: 1fr;
      }

      .product-image-section {
        padding: 30px 20px;
      }

      .product-image-wrapper img {
        height: 300px;
      }

      .product-info-section {
        padding: 30px 20px;
      }

      .product-detail-title {
        font-size: 1.5em;
      }

      .product-detail-price {
        font-size: 1.2em;
      }

      footer h3 {
        font-size: 1.1em;
      }

      .contact-link {
        font-size: 1em;
        padding: 8px 15px;
      }

      .contact-link svg {
        width: 24px;
        height: 24px;
      }
    }
  </style>
</head>
<body>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ -->
<div id="catalogPage" class="catalog-page">
  <header>–ë—Ä–µ–∏–Ω—Ä–æ—Ç—ã –≤ –Ω–∞–ª–∏—á–∏–∏</header>

  <div class="top-nav">
    <button class="nav-btn active" onclick="showAllProducts()">üõçÔ∏è –í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
    <button class="nav-btn" onclick="showFavoritesOnly()">‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ (<span id="wishlistCount">0</span>)</button>
  </div>

  <!-- –§–ò–õ–¨–¢–†–ê–¶–ò–Ø –ò –ü–û–ò–°–ö -->
  <div class="filter-section">
    <div class="left-controls">
      <div class="language-switcher">
        <button class="lang-btn active" onclick="switchLanguage('ru')" id="langRu">RU</button>
        <button class="lang-btn" onclick="switchLanguage('en')" id="langEn">EN</button>
      </div>
      <input 
        type="text" 
        id="searchInput" 
        class="search-input" 
        placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..."
        oninput="applySearch()"
      >
    </div>
    <select id="filterSelect" class="filter-select" onchange="applyFilter()">
      <option value="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
      <option value="price-low">–¶–µ–Ω–∞: –æ—Ç –¥–µ—à–µ–≤—ã—Ö –∫ –¥–æ—Ä–æ–≥–∏–º</option>
      <option value="price-high">–¶–µ–Ω–∞: –æ—Ç –¥–æ—Ä–æ–≥–∏—Ö –∫ –¥–µ—à–µ–≤—ã–º</option>
      <option value="stock-high">–í –Ω–∞–ª–∏—á–∏–∏: –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ</option>
      <option value="stock-low">–í –Ω–∞–ª–∏—á–∏–∏: –º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ</option>
    </select>
  </div>

  <div id="productsContainer" class="container">
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
  </div>

  <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
  <div id="paginationContainer" class="pagination">
    <!-- –ö–Ω–æ–ø–∫–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
  </div>
</div>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ -->
<div id="productPage" class="product-page">
  <button class="back-button" onclick="backToCatalog()">‚Üê –ù–∞–∑–∞–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥</button>
  
  <div class="product-detail">
    <div class="product-layout">
      <div class="product-image-section">
        <div class="product-image-wrapper">
          <img id="productImage" src="" alt="">
        </div>
      </div>

      <div class="product-info-section">
        <h1 id="productTitle" class="product-detail-title"></h1>
        <div id="productPrice" class="product-detail-price"></div>

        <div class="product-info-box">
          <p><strong>üì¶ –í –Ω–∞–ª–∏—á–∏–∏:</strong> <span id="productStock"></span></p>
          <p><strong>‚ö° –î–æ—Å—Ç–∞–≤–∫–∞:</strong> –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã</p>
          <p><strong>‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—è:</strong> 100% –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–æ–≤–∞—Ä</p>
        </div>

        <div class="action-buttons">
          <button id="productWishlistBtn" class="action-btn wishlist-btn" onclick="toggleProductWishlist()">
            ‚ô° –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
          </button>
          <button class="action-btn buy-now-btn" onclick="buyNow()">üí≥ –ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- –§—É—Ç–µ—Ä —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ -->
<footer>
  <h3>–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π</h3>
  <div class="contact-links">
    <a href="https://t.me/ILLIA812" target="_blank" class="contact-link telegram">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
      </svg>
      <span>@ILLIA812</span>
    </a>
    <a href="https://discord.com/users/ilozov" target="_blank" class="contact-link discord">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
        <path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
      </svg>
      <span>ilozov</span>
    </a>
  </div>
</footer>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫—É–ø–∫–∏ -->
<div id="purchasePage" class="purchase-page">
  <div class="purchase-content">
    <h1 id="purchaseTitle" class="purchase-title"></h1>
    <p id="purchaseMessage" class="purchase-message"></p>
    
    <div class="contact-buttons">
      <a href="https://t.me/ILLIA812" target="_blank" class="contact-btn telegram">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
        </svg>
        <span>@ILLIA812</span>
      </a>
      
      <div class="or-divider" id="orDivider">–∏–ª–∏</div>
      
      <a href="https://discord.com/users/ilozov" target="_blank" class="contact-btn discord">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
        </svg>
        <span>ilozov</span>
      </a>
    </div>
    
    <div class="important-note" id="importantNote">
      <strong>‚ö†Ô∏è –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–∏—à–∏—Ç–µ —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å –∏ –∑–∞ –∫–∞–∫—É—é –≤–∞–ª—é—Ç—É</strong><br>
      (–î–æ–ª–ª–∞—Ä—ã, –ï–≤—Ä–æ, –†–æ–±—É–∫—Å—ã, –ì—Ä–∏–≤–Ω—ã)
    </div>
    
    <button class="back-to-product-btn" onclick="closePurchasePage()">
      <span id="backButtonText">‚Üê –ù–∞–∑–∞–¥</span>
    </button>
  </div>
</div>

<script>
  // ========================================
  // –ó–î–ï–°–¨ –î–û–ë–ê–í–õ–Ø–ô–¢–ï –ù–û–í–´–ï –¢–û–í–ê–†–´
  // ========================================
  const products = [
    { 
      title: 'Los Mobilis (Yin Yang)', 
      prices: '100‚Ç¥ ‚Ä¢ 240Robux ‚Ä¢ 2.8$ ‚Ä¢ 2.4‚Ç¨', 
      imageSrc: 'img/Los mobilis.jpg', 
      stock: 1 
    },
    { 
      title: 'Los Combinasionas', 
      prices: '90‚Ç¥ ‚Ä¢ 180Robux ‚Ä¢ 2.1$ ‚Ä¢ 1.8‚Ç¨', 
      imageSrc: 'img/Los Combinasionas.jpg', 
      stock: 1 
    },
    { 
      title: 'Quesadila Crocodila (Gold)', 
      prices: '50‚Ç¥ ‚Ä¢ 100Robux ‚Ä¢ 1.2$ ‚Ä¢ 1‚Ç¨', 
      imageSrc: 'img/Quesadila Crocodila2.jpg', 
      stock: 1 
    },
    { 
      title: 'Los Nooo My Hotspotsitos (Yin Yang)', 
      prices: '50‚Ç¥ ‚Ä¢ 100Robux ‚Ä¢ 1.2$ ‚Ä¢ 1‚Ç¨', 
      imageSrc: 'img/Los Nooo My Hotspotsitos.jpg', 
      stock: 1 
    },
    { 
      title: 'Santa Hotspot', 
      prices: '60‚Ç¥ ‚Ä¢ 120Robux ‚Ä¢ 1.4$ ‚Ä¢ 1.2‚Ç¨', 
      imageSrc: 'img/Santa Hotspot.jpg', 
      stock: 2 
    },
    { 
      title: 'Esok Sekolah', 
      prices: '60‚Ç¥ ‚Ä¢ 120Robux ‚Ä¢ 1.4$ ‚Ä¢ 1.2‚Ç¨', 
      imageSrc: 'img/Esok Sekolah 3.jpg', 
      stock: 1 
    },
    { 
      title: 'Mieteteira Bicicleteira', 
      prices: '120‚Ç¥ ‚Ä¢ 240Robux ‚Ä¢ 2.8$ ‚Ä¢ 2.4‚Ç¨', 
      imageSrc: 'img/Mieteteira Bicicleteira.jpg', 
      stock: 1 
    },
    { 
      title: 'W or L', 
      prices: '350‚Ç¥ ‚Ä¢ 700Robux ‚Ä¢ 8,2$ ‚Ä¢ 7‚Ç¨', 
      imageSrc: 'img/W or L.jpg', 
      stock: 1 
    },
    { 
      title: 'Esok Sekolah', 
      prices: '160‚Ç¥ ‚Ä¢ 320Robux ‚Ä¢ 3.8$ ‚Ä¢ 3,2‚Ç¨', 
      imageSrc: 'img/Esok Sekolah 4.jpg', 
      stock: 1 
    },
    { 
      title: 'Chimnino', 
      prices: '50‚Ç¥ ‚Ä¢ 100Robux ‚Ä¢ 1.2$ ‚Ä¢ 1‚Ç¨', 
      imageSrc: 'img/Chimnino.jpg', 
      stock: 1 
    },
    { 
      title: 'Los Nooo My Hotspotsitos', 
      prices: '100‚Ç¥ ‚Ä¢ 200Robux ‚Ä¢ 2.4$ ‚Ä¢ 2‚Ç¨', 
      imageSrc: 'img/Los.jpg', 
      stock: 1 
    },
    { 
      title: 'Esok Sekolah (Gold)', 
      prices: '140‚Ç¥ ‚Ä¢ 280Robux ‚Ä¢ 3,3$ ‚Ä¢ 2,8‚Ç¨', 
      imageSrc: 'img/Esok Sekolah1.jpg', 
      stock: 1 
    },
    { 
      title: 'W or L', 
      prices: '80‚Ç¥ ‚Ä¢ 160Robux ‚Ä¢ 1.9$ ‚Ä¢ 1,6‚Ç¨', 
      imageSrc: 'img/W or L2.jpg', 
      stock: 1 
    },
    { 
      title: 'Los Spooky Combinasionas', 
      prices: '80‚Ç¥ ‚Ä¢ 160Robux ‚Ä¢ 1.9$ ‚Ä¢ 1,6‚Ç¨', 
      imageSrc: 'img/Los Spooky Combinasionas.jpg', 
      stock: 1 
    },
    { 
      title: 'Esok Sekolah', 
      prices: '120‚Ç¥ ‚Ä¢ 240Robux ‚Ä¢ 2.8$ ‚Ä¢ 2.4‚Ç¨', 
      imageSrc: 'img/Esok Sekolah50.jpg', 
      stock: 1 
    },
    { 
      title: 'Los Combinasionas (Lava)', 
      prices: '80‚Ç¥ ‚Ä¢ 160Robux ‚Ä¢ 1.9$ ‚Ä¢ 1,6‚Ç¨', 
      imageSrc: 'img/Los Combinasionas1.jpg', 
      stock: 1 
    },
    { 
      title: 'Swaggy Bros', 
      prices: '350‚Ç¥ ‚Ä¢ 700Robux ‚Ä¢ 8,2$ ‚Ä¢ 7‚Ç¨', 
      imageSrc: 'img/Swaggy Bros.jpg', 
      stock: 1 
    },
    { 
      title: 'Chimnino', 
      prices: '60‚Ç¥ ‚Ä¢ 120Robux ‚Ä¢ 1.4$ ‚Ä¢ 1.2‚Ç¨', 
      imageSrc: 'img/Chimnino2.jpg', 
      stock: 1 
    },
    { 
      title: 'La Grande Combinasion (Yin Yang)', 
      prices: '80‚Ç¥ ‚Ä¢ 160Robux ‚Ä¢ 1.9$ ‚Ä¢ 1,6‚Ç¨', 
      imageSrc: 'img/La Grande Combinasion (Yin Yang).jpg', 
      stock: 1 
    },
    { 
      title: 'Mieteteira Bicicleteira (Yin Yang)', 
      prices: '160‚Ç¥ ‚Ä¢ 320Robux ‚Ä¢ 3.8$ ‚Ä¢ 3,2‚Ç¨', 
      imageSrc: 'img/Mieteteira Bicicleteira (Yin Yang).jpg', 
      stock: 1 
    },
    { 
      title: 'Quesadilla Crocodila (Gold)', 
      prices: '50‚Ç¥ ‚Ä¢ 100Robux ‚Ä¢ 1.2$ ‚Ä¢ 1‚Ç¨', 
      imageSrc: 'img/Quesadilla Crocodila (Gold).jpg', 
      stock: 1 
    },
  ];

  let wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
  let currentProductIndex = 0;
  let showingFavorites = false;
  let currentFilter = 'default';
  let searchQuery = '';
  let currentLang = localStorage.getItem('language') || 'ru';
  let currentPage = 1;
  const itemsPerPage = 12; // 4 —Ä—è–¥–∞ –ø–æ 3 —Ç–æ–≤–∞—Ä–∞

  // ========================================
  // –ü–ï–†–ï–í–û–î–´
  // ========================================
  const translations = {
    ru: {
      header: '–ë—Ä–µ–∏–Ω—Ä–æ—Ç—ã –≤ –Ω–∞–ª–∏—á–∏–∏',
      allProducts: 'üõçÔ∏è –í—Å–µ —Ç–æ–≤–∞—Ä—ã',
      favorites: '‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ',
      searchPlaceholder: '–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...',
      filterDefault: '–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é',
      filterPriceLow: '–¶–µ–Ω–∞: –æ—Ç –¥–µ—à–µ–≤—ã—Ö –∫ –¥–æ—Ä–æ–≥–∏–º',
      filterPriceHigh: '–¶–µ–Ω–∞: –æ—Ç –¥–æ—Ä–æ–≥–∏—Ö –∫ –¥–µ—à–µ–≤—ã–º',
      filterStockHigh: '–í –Ω–∞–ª–∏—á–∏–∏: –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ',
      filterStockLow: '–í –Ω–∞–ª–∏—á–∏–∏: –º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ',
      buyButton: '–ö—É–ø–∏—Ç—å',
      inStock: '–í –Ω–∞–ª–∏—á–∏–∏',
      pieces: '—à—Ç.',
      addToWishlist: '‚ô° –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ',
      removeFromWishlist: '‚ô• –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ',
      buyNow: 'üí≥ –ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å',
      delivery: '‚ö° –î–æ—Å—Ç–∞–≤–∫–∞:',
      deliveryText: '–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã',
      guarantee: '‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—è:',
      guaranteeText: '100% –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–æ–≤–∞—Ä',
      backToCatalog: '‚Üê –ù–∞–∑–∞–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥',
      noFavorites: '–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤',
      noFavoritesHint: '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ—Ä–¥–µ—á–∫–æ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ',
      noResults: '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ',
      noResultsHint: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å',
      noResultsFavorites: '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º',
      next: '–î–∞–ª–µ–µ ‚Ä∫',
      previous: '‚Äπ –ù–∞–∑–∞–¥',
      contactMe: '–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π',
      purchaseMessage: '–ß—Ç–æ–±—ã –∫—É–ø–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä<br>–ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ:',
      or: '–∏–ª–∏',
      backButton: '‚Üê –ù–∞–∑–∞–¥',
      importantNote: '<strong>‚ö†Ô∏è –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–∏—à–∏—Ç–µ —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å –∏ –∑–∞ –∫–∞–∫—É—é –≤–∞–ª—é—Ç—É</strong><br>(–î–æ–ª–ª–∞—Ä—ã, –ï–≤—Ä–æ, –†–æ–±—É–∫—Å—ã, –ì—Ä–∏–≤–Ω—ã)'
    },
    en: {
      header: 'Brainrots in Stock',
      allProducts: 'üõçÔ∏è All Products',
      favorites: '‚ù§Ô∏è Favorites',
      searchPlaceholder: 'Search products...',
      filterDefault: 'Default',
      filterPriceLow: 'Price: Low to High',
      filterPriceHigh: 'Price: High to Low',
      filterStockHigh: 'Stock: Most Available',
      filterStockLow: 'Stock: Least Available',
      buyButton: 'Buy',
      inStock: 'In Stock',
      pieces: 'pcs.',
      addToWishlist: '‚ô° Add to Wishlist',
      removeFromWishlist: '‚ô• Remove from Wishlist',
      buyNow: 'üí≥ Buy Now',
      delivery: '‚ö° Delivery:',
      deliveryText: 'Instantly after payment',
      guarantee: '‚úÖ Guarantee:',
      guaranteeText: '100% original product',
      backToCatalog: '‚Üê Back to Catalog',
      noFavorites: 'You have no favorite products yet',
      noFavoritesHint: 'Click the heart icon on a product card to add it to favorites',
      noResults: 'Nothing found',
      noResultsHint: 'Try changing your search query',
      noResultsFavorites: 'Nothing found in favorites',
      next: 'Next ‚Ä∫',
      previous: '‚Äπ Previous',
      contactMe: 'Contact Me',
      purchaseMessage: 'To buy this product<br>Contact me:',
      or: 'or',
      backButton: '‚Üê Back',
      importantNote: '<strong>‚ö†Ô∏è Please specify what you want to buy and which currency</strong><br>(Dollars, Euros, Robux, Hryvnias)'
    }
  };

  // ========================================
  // –§–£–ù–ö–¶–ò–Ø –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø –Ø–ó–´–ö–ê
  // ========================================
  function switchLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('language', lang);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
    document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
    document.getElementById('lang' + lang.charAt(0).toUpperCase() + lang.slice(1)).classList.add('active');
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    updateLanguage();
    
    // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã
    if (showingFavorites) {
      showFavoritesOnly();
    } else {
      renderProducts();
    }
  }

  // ========================================
  // –û–ë–ù–û–í–õ–ï–ù–ò–ï –Ø–ó–´–ö–ê –ò–ù–¢–ï–†–§–ï–ô–°–ê
  // ========================================
  function updateLanguage() {
    const t = translations[currentLang];
    
    // –ó–∞–≥–æ–ª–æ–≤–æ–∫
    document.querySelector('header').textContent = t.header;
    
    // –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    const navBtns = document.querySelectorAll('.nav-btn');
    navBtns[0].innerHTML = t.allProducts;
    navBtns[1].innerHTML = `${t.favorites} (<span id="wishlistCount">${wishlist.length}</span>)`;
    
    // –ü–æ–∏—Å–∫
    document.getElementById('searchInput').placeholder = t.searchPlaceholder;
    
    // –§–∏–ª—å—Ç—Ä
    const filterSelect = document.getElementById('filterSelect');
    filterSelect.options[0].text = t.filterDefault;
    filterSelect.options[1].text = t.filterPriceLow;
    filterSelect.options[2].text = t.filterPriceHigh;
    filterSelect.options[3].text = t.filterStockHigh;
    filterSelect.options[4].text = t.filterStockLow;
    
    // –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞
    document.querySelector('.back-button').innerHTML = t.backToCatalog;
    
    // –§—É—Ç–µ—Ä
    document.querySelector('footer h3').textContent = t.contactMe;
  }

  // ========================================
  // –§–£–ù–ö–¶–ò–Ø –ò–ó–í–õ–ï–ß–ï–ù–ò–Ø –¶–ï–ù–´ –í –ì–†–ò–í–ù–ê–•
  // ========================================
  function extractPrice(priceString) {
    // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ü–µ–Ω—É –≤ –≥—Ä–∏–≤–Ω–∞—Ö (–ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –ø–µ—Ä–µ–¥ ‚Ç¥)
    const match = priceString.match(/(\d+)‚Ç¥/);
    return match ? parseInt(match[1]) : 0;
  }

  // ========================================
  // –§–£–ù–ö–¶–ò–Ø –ü–û–ò–°–ö–ê
  // ========================================
  function applySearch() {
    searchQuery = document.getElementById('searchInput').value.toLowerCase();
    currentPage = 1; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏ –ø–æ–∏—Å–∫–µ
    
    if (showingFavorites) {
      showFavoritesOnly();
    } else {
      renderProducts();
    }
  }

  // ========================================
  // –§–£–ù–ö–¶–ò–Ø –§–ò–õ–¨–¢–†–ê–¶–ò–ò –¢–û–í–ê–†–û–í –ü–û –ü–û–ò–°–ö–£
  // ========================================
  function filterBySearch(productsList) {
    if (!searchQuery) {
      return productsList;
    }
    
    return productsList.filter(product => 
      product.title.toLowerCase().includes(searchQuery)
    );
  }

  // ========================================
  // –§–£–ù–ö–¶–ò–Ø –°–û–†–¢–ò–†–û–í–ö–ò –¢–û–í–ê–†–û–í
  // ========================================
  function getSortedProducts() {
    let sortedProducts = products.map((product, index) => ({
      ...product,
      originalIndex: index
    }));

    // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–∏—Å–∫
    sortedProducts = filterBySearch(sortedProducts);

    // –ó–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
    switch(currentFilter) {
      case 'price-low':
        sortedProducts.sort((a, b) => extractPrice(a.prices) - extractPrice(b.prices));
        break;
      case 'price-high':
        sortedProducts.sort((a, b) => extractPrice(b.prices) - extractPrice(a.prices));
        break;
      case 'stock-high':
        sortedProducts.sort((a, b) => b.stock - a.stock);
        break;
      case 'stock-low':
        sortedProducts.sort((a, b) => a.stock - b.stock);
        break;
      default:
        // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
        break;
    }

    return sortedProducts;
  }

  // ========================================
  // –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –§–ò–õ–¨–¢–†–ê
  // ========================================
  function applyFilter() {
    currentFilter = document.getElementById('filterSelect').value;
    currentPage = 1; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞
    
    if (showingFavorites) {
      showFavoritesOnly();
    } else {
      renderProducts();
    }
  }

  // ========================================
  // –§–£–ù–ö–¶–ò–Ø –ü–ê–ì–ò–ù–ê–¶–ò–ò
  // ========================================
  function renderPagination(totalItems) {
    const totalPages = Math.ceil(totalItems / itemsPerPage);
    const paginationContainer = document.getElementById('paginationContainer');
    const t = translations[currentLang];
    
    if (totalPages <= 1) {
      paginationContainer.innerHTML = '';
      return;
    }
    
    let paginationHTML = '';
    
    // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
    paginationHTML += `
      <button class="pagination-btn" onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
        ${t.previous}
      </button>
    `;
    
    // –ö–Ω–æ–ø–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
    for (let i = 1; i <= totalPages; i++) {
      paginationHTML += `
        <button class="pagination-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
          ${i}
        </button>
      `;
    }
    
    // –ö–Ω–æ–ø–∫–∞ "–î–∞–ª–µ–µ"
    paginationHTML += `
      <button class="pagination-btn" onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
        ${t.next}
      </button>
    `;
    
    paginationContainer.innerHTML = paginationHTML;
  }

  // ========================================
  // –°–ú–ï–ù–ê –°–¢–†–ê–ù–ò–¶–´
  // ========================================
  function changePage(page) {
    const sortedProducts = showingFavorites ? getFavoriteProducts() : getSortedProducts();
    const totalPages = Math.ceil(sortedProducts.length / itemsPerPage);
    
    if (page < 1 || page > totalPages) return;
    
    currentPage = page;
    
    if (showingFavorites) {
      showFavoritesOnly();
    } else {
      renderProducts();
    }
    
    // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–≤–µ—Ä—Ö
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // ========================================
  // –ü–û–õ–£–ß–ï–ù–ò–ï –ò–ó–ë–†–ê–ù–ù–´–• –¢–û–í–ê–†–û–í
  // ========================================
  function getFavoriteProducts() {
    let favoriteProducts = wishlist.map(index => ({
      ...products[index],
      originalIndex: index
    }));

    // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–∏—Å–∫
    favoriteProducts = filterBySearch(favoriteProducts);

    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
    switch(currentFilter) {
      case 'price-low':
        favoriteProducts.sort((a, b) => extractPrice(a.prices) - extractPrice(b.prices));
        break;
      case 'price-high':
        favoriteProducts.sort((a, b) => extractPrice(b.prices) - extractPrice(a.prices));
        break;
      case 'stock-high':
        favoriteProducts.sort((a, b) => b.stock - a.stock);
        break;
      case 'stock-low':
        favoriteProducts.sort((a, b) => a.stock - b.stock);
        break;
    }

    return favoriteProducts;
  }

  // ========================================
  // –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–ê–†–¢–û–ß–ï–ö –¢–û–í–ê–†–û–í
  // ========================================
  function renderProducts() {
    const container = document.getElementById('productsContainer');
    container.innerHTML = '';
    const t = translations[currentLang];
    
    const sortedProducts = getSortedProducts();
    
    // –ï—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
    if (sortedProducts.length === 0) {
      container.innerHTML = `
        <div class="empty-message" style="grid-column: 1/-1;">
          üîç<br>
          ${t.noResults}<br>
          <small>${t.noResultsHint}</small>
        </div>
      `;
      renderPagination(0);
      return;
    }
    
    // –í—ã—á–∏—Å–ª—è–µ–º –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const pageProducts = sortedProducts.slice(startIndex, endIndex);
    
    pageProducts.forEach((product) => {
      const index = product.originalIndex;
      const card = document.createElement('div');
      card.className = 'card';
      card.setAttribute('data-product', index);
      
      const isInWishlist = wishlist.includes(index);
      
      card.innerHTML = `
        <span class="stock-badge">
          <span class="stock-icon">üì¶</span>
          <span class="stock-number">${product.stock}</span>
          <span class="stock-text">${t.inStock}: ${product.stock} ${t.pieces}</span>
        </span>
        <span class="wishlist-icon ${isInWishlist ? 'active' : ''}" onclick="toggleWishlist(${index}, event)">
          ${isInWishlist ? '‚ô•' : '‚ô°'}
        </span>
        <img src="${product.imageSrc}" alt="${product.title}">
        <div class="card-body">
          <h3 class="card-title">${product.title}</h3>
          <p class="card-price">${product.prices}</p>
          <button class="buy-btn" onclick="showProduct(${index})">${t.buyButton}</button>
        </div>
      `;
      
      container.appendChild(card);
    });
    
    // –†–µ–Ω–¥–µ—Ä–∏–º –ø–∞–≥–∏–Ω–∞—Ü–∏—é
    renderPagination(sortedProducts.length);
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  window.onload = function() {
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É —è–∑—ã–∫–∞
    document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
    document.getElementById('lang' + currentLang.charAt(0).toUpperCase() + currentLang.slice(1)).classList.add('active');
    
    updateLanguage();
    renderProducts();
    updateWishlistCount();
  };

  function toggleWishlist(index, event) {
    event.stopPropagation();
    
    if (wishlist.includes(index)) {
      wishlist = wishlist.filter(i => i !== index);
    } else {
      wishlist.push(index);
    }
    
    localStorage.setItem('wishlist', JSON.stringify(wishlist));
    updateWishlistCount();
    
    // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã
    if (showingFavorites) {
      showFavoritesOnly();
    } else {
      renderProducts();
    }
  }

  function updateWishlistCount() {
    document.getElementById('wishlistCount').textContent = wishlist.length;
  }

  function showAllProducts() {
    showingFavorites = false;
    currentPage = 1;
    renderProducts();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
  }

  function showFavoritesOnly() {
    showingFavorites = true;
    currentPage = 1;
    const container = document.getElementById('productsContainer');
    container.innerHTML = '';
    const t = translations[currentLang];
    
    if (wishlist.length === 0) {
      container.innerHTML = `
        <div class="empty-message" style="grid-column: 1/-1;">
          ‚ù§Ô∏è<br>
          ${t.noFavorites}<br>
          <small>${t.noFavoritesHint}</small>
        </div>
      `;
      renderPagination(0);
    } else {
      const favoriteProducts = getFavoriteProducts();

      // –ï—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
      if (favoriteProducts.length === 0) {
        container.innerHTML = `
          <div class="empty-message" style="grid-column: 1/-1;">
            üîç<br>
            ${t.noResultsFavorites}<br>
            <small>${t.noResultsHint}</small>
          </div>
        `;
        renderPagination(0);
        return;
      }

      // –í—ã—á–∏—Å–ª—è–µ–º –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      const startIndex = (currentPage - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const pageProducts = favoriteProducts.slice(startIndex, endIndex);

      pageProducts.forEach(product => {
        const index = product.originalIndex;
        const card = document.createElement('div');
        card.className = 'card';
        card.setAttribute('data-product', index);
        
        card.innerHTML = `
          <span class="stock-badge">
            <span class="stock-icon">üì¶</span>
            <span class="stock-number">${product.stock}</span>
            <span class="stock-text">${t.inStock}: ${product.stock} ${t.pieces}</span>
          </span>
          <span class="wishlist-icon active" onclick="toggleWishlist(${index}, event)">‚ô•</span>
          <img src="${product.imageSrc}" alt="${product.title}">
          <div class="card-body">
            <h3 class="card-title">${product.title}</h3>
            <p class="card-price">${product.prices}</p>
            <button class="buy-btn" onclick="showProduct(${index})">${t.buyButton}</button>
          </div>
        `;
        
        container.appendChild(card);
      });
      
      // –†–µ–Ω–¥–µ—Ä–∏–º –ø–∞–≥–∏–Ω–∞—Ü–∏—é
      renderPagination(favoriteProducts.length);
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
  }

  function showProduct(index) {
    currentProductIndex = index;
    const product = products[index];
    const t = translations[currentLang];
    
    document.getElementById('productTitle').textContent = product.title;
    document.getElementById('productPrice').innerHTML = product.prices.replace(/‚Ä¢/g, '<br>');
    document.getElementById('productImage').src = product.imageSrc;
    document.getElementById('productStock').textContent = product.stock + ' ' + t.pieces;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏–∏
    const infoBox = document.querySelector('.product-info-box');
    infoBox.innerHTML = `
      <p><strong>üì¶ ${t.inStock}:</strong> <span id="productStock">${product.stock} ${t.pieces}</span></p>
      <p><strong>${t.delivery}</strong> ${t.deliveryText}</p>
      <p><strong>${t.guarantee}</strong> ${t.guaranteeText}</p>
    `;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
    const wishlistBtn = document.getElementById('productWishlistBtn');
    if (wishlist.includes(index)) {
      wishlistBtn.classList.add('active');
      wishlistBtn.innerHTML = t.removeFromWishlist;
    } else {
      wishlistBtn.classList.remove('active');
      wishlistBtn.innerHTML = t.addToWishlist;
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–∫—É–ø–∫–∏
    document.querySelector('.buy-now-btn').innerHTML = t.buyNow;
    
    document.getElementById('catalogPage').classList.add('hidden');
    document.getElementById('productPage').classList.add('active');
    
    window.scrollTo(0, 0);
  }

  function backToCatalog() {
    document.getElementById('productPage').classList.remove('active');
    document.getElementById('catalogPage').classList.remove('hidden');
    window.scrollTo(0, 0);
  }

  function toggleProductWishlist() {
    const wishlistBtn = document.getElementById('productWishlistBtn');
    const t = translations[currentLang];
    
    if (wishlist.includes(currentProductIndex)) {
      wishlist = wishlist.filter(i => i !== currentProductIndex);
      wishlistBtn.classList.remove('active');
      wishlistBtn.innerHTML = t.addToWishlist;
    } else {
      wishlist.push(currentProductIndex);
      wishlistBtn.classList.add('active');
      wishlistBtn.innerHTML = t.removeFromWishlist;
    }
    
    localStorage.setItem('wishlist', JSON.stringify(wishlist));
    updateWishlistCount();
  }

  function buyNow() {
    const product = products[currentProductIndex];
    const t = translations[currentLang];
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ
    document.getElementById('purchaseTitle').textContent = product.title;
    document.getElementById('purchaseMessage').innerHTML = t.purchaseMessage;
    document.getElementById('orDivider').textContent = t.or;
    document.getElementById('backButtonText').textContent = t.backButton;
    document.getElementById('importantNote').innerHTML = t.importantNote;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–∫—É–ø–∫–∏
    document.getElementById('purchasePage').classList.add('active');
    window.scrollTo(0, 0);
  }

  function closePurchasePage() {
    document.getElementById('purchasePage').classList.remove('active');
  }
</script>

</body>

</html>
